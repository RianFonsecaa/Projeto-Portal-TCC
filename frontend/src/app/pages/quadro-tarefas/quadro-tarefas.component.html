<div class="flex flex-row space-x-4 w-full max-h-full overflow-hidden" cdkDropListGroup>
    <div *ngFor="let coluna of quadroTarefas.colunas" class="flex flex-col h-full flex-1 space-y-3">
      <!-- Header da coluna -->
      <div class="w-full flex flex-row justify-between font-semibold text-[#515151] dark:text-gray-300">
        <div class="flex flex-row space-x-2 items-center bg-opacity-20 rounded-lg px-2"
             [ngClass]="{
               'bg-[#626262]': coluna.nome === 'BACKLOG',
               'bg-[#339AF0]': coluna.nome === 'PENDENTE',
               'bg-[#FF8031]': coluna.nome === 'ANDAMENTO',
               'bg-[#61B668]': coluna.nome === 'CONCLUIDA'
             }">
          <div class="h-[12px] w-[4px] bg-opacity-80 rounded-sm"
               [ngClass]="{
                 'bg-[#626262]': coluna.nome === 'BACKLOG',
                 'bg-[#339AF0]': coluna.nome === 'PENDENTE',
                 'bg-[#FF8031]': coluna.nome === 'ANDAMENTO',
                 'bg-[#61B668]': coluna.nome === 'CONCLUIDA'
               }"></div>
          <span class="text-[14px]">{{ coluna.nome }}</span>
        </div>
        <div class="flex flex-row space-x-2 items-center">
          <span class="bg-[#61B668] bg-opacity-70 px-1 text-white text-[14px] rounded-md">
            {{ coluna.tarefas.length }}
          </span>
          <button class="transition-transform duration-150 hover:scale-110" (click)="modalService.abrir('modalTarefa')">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="18" height="18" fill="url(#pattern0_305_334)" />
              <defs>
                <pattern id="pattern0_305_334" patternContentUnits="objectBoundingBox" width="1" height="1">
                  <use xlink:href="#image0_305_334" transform="scale(0.0333333)" />
                </pattern>
                <image id="image0_305_334" width="30" height="30" preserveAspectRatio="none"
                       xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAhElEQVR4nO2UzQrCMBAG83jWg5nJ+5OCP4f6EpXe1IMKNlHKDnzXDLtZvpSCfybnDHAFJvXQTaxe1HkJcO4pnu8T4mYYq+6Fm1l1KWWvjs8Pr5ARGF5Ncmwgfd9w/koMDGptIK7q7utb2M5Vf0qIUy+MP+6Fj31eu4mBATgtWaWRgtSQG15sTt9u6m1eAAAAAElFTkSuQmCC" />
              </defs>
            </svg>
          </button>
        </div>
      </div>
      <!-- Coluna de tarefas com funcionalidade de arrastar e soltar -->
      <div class="flex flex-col overflow-y-auto dark:bg-[#201e1e] h-[calc(100vh-200px)] p-2 bg-gray-100 rounded-lg"
           id="{{ coluna.id }}"
           cdkDropList
           [cdkDropListData]="coluna.tarefas"
           (cdkDropListDropped)="drop($event)">
        
        <!-- Tarefas dentro da coluna -->
        <app-tarefas-conteudo *ngFor="let tarefa of coluna.tarefas"
                              [tarefa]="tarefa"
                              cdkDrag
                              [cdkDragData]="tarefa"
                              (click)="abrirTarefa(tarefa)"
                              class="task rounded-lg cursor-move">
        </app-tarefas-conteudo>
      </div>
    </div>
  </div>

  <app-modal-tarefa *ngIf="modalService.isVisivel('modalTarefa')" ></app-modal-tarefa>
